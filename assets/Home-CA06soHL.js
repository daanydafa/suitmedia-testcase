import{B as f,b as v}from"./banner-zKFMgUe5.js";import{_ as h,o as l,c as d,a as t,F as b,r as p,n as y,t as c,m as S,b as x,d as u,w as _,v as P,e as m}from"./index-CRcN-Fuy.js";const C={props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},computed:{pageNumbers(){let s=Math.max(1,this.currentPage-2),e=Math.min(this.totalPages,this.currentPage+2);return e-s<4&&(s=Math.max(1,e-4)),Array.from({length:Math.min(5,e-s+1)},(a,g)=>s+g)}},methods:{goToPage(s){s>=1&&s<=this.totalPages&&this.$emit("page-changed",s)}}},w={class:"paginator"},z=["disabled"],I=["disabled"],k=["onClick"],B=["disabled"],D=["disabled"];function M(s,e,a,g,i,o){return l(),d("div",w,[t("button",{type:"button",class:"btn btn-sm",onClick:e[0]||(e[0]=r=>o.goToPage(a.currentPage-2)),disabled:a.currentPage<=2}," << ",8,z),t("button",{type:"button",class:"btn btn-sm",onClick:e[1]||(e[1]=r=>o.goToPage(a.currentPage-1)),disabled:a.currentPage<=1}," < ",8,I),(l(!0),d(b,null,p(o.pageNumbers,r=>(l(),d("button",{type:"button",class:y(["btn btn-sm",{active:a.currentPage===r}]),key:r,onClick:n=>o.goToPage(r)},c(r),11,k))),128)),t("button",{type:"button",class:"btn btn-sm",onClick:e[2]||(e[2]=r=>o.goToPage(a.currentPage+1)),disabled:a.currentPage>=a.totalPages}," > ",8,B),t("button",{type:"button",class:"btn btn-sm",onClick:e[3]||(e[3]=r=>o.goToPage(a.currentPage+2)),disabled:a.currentPage>=a.totalPages-1}," >> ",8,D)])}const N=h(C,[["render",M]]),T={components:{Paginator:N},data(){return{pageSize:10,sort:"-published_at"}},computed:{...S(["posts","currentPage","totalItems"]),totalPages(){return Math.ceil(this.totalItems/this.pageSize)},startItem(){return(this.currentPage-1)*this.pageSize+1},endItem(){return Math.min(this.currentPage*this.pageSize,this.totalItems)}},methods:{...x(["fetchPosts"]),updatePageSize(){this.$store.commit("setPageSize",this.pageSize),this.$store.commit("setCurrentPage",1),this.fetchPosts()},updateSort(){this.$store.commit("setSort",this.sort),this.$store.commit("setCurrentPage",1),this.fetchPosts()},handlePageChange(s){this.$store.commit("setCurrentPage",s),this.fetchPosts()},formatDate(s){if(s){const e=new Date(s),a={day:"2-digit",month:"long",year:"numeric"};return new Intl.DateTimeFormat("id-ID",a).format(e).toUpperCase()}return s}},mounted(){this.fetchPosts()}},U={class:"post-container"},L={class:"controls"},V={class:"controls-left"},F={class:"controls-right"},j={class:"control-item"},q=t("label",{class:"me-2"},"Show per page:",-1),A=t("option",{value:10},"10",-1),$=t("option",{value:20},"20",-1),E=t("option",{value:50},"50",-1),H=[A,$,E],G={class:"control-item",style:{"padding-inline-start":"2rem"}},J=t("label",{class:"me-2"},"Sort by:",-1),K=t("option",{value:"-published_at"},"Newest",-1),O=t("option",{value:"published_at"},"Latest",-1),Q=[K,O],R={class:"row justify-content-center"},W={class:"card shadow border-0",style:{width:"15rem",height:"100%",margin:"0 auto"}},X=t("div",{class:"card-img-top",style:{width:"100%",height:"150px"}},[t("div",{style:{"background-color":"grey",width:"100%",height:"100%","border-radius":"5px 5px 0px 0px"}})],-1),Y={class:"card-body",style:{display:"flex","flex-direction":"column","align-items":"start","justify-content":"start"}},Z={class:"card-text m-0",style:{"max-width":"100%",color:"rgb(88, 83, 83)","font-size":"12px"}},tt={class:"card-title m-0",style:{"max-width":"100%","text-align":"left","font-size":"18px"}};function et(s,e,a,g,i,o){const r=u("Paginator");return l(),d("div",U,[t("div",L,[t("div",V," Showing "+c(o.startItem)+" - "+c(o.endItem)+" of "+c(s.totalItems),1),t("div",F,[t("div",j,[q,_(t("select",{"onUpdate:modelValue":e[0]||(e[0]=n=>i.pageSize=n),onChange:e[1]||(e[1]=(...n)=>o.updatePageSize&&o.updatePageSize(...n))},H,544),[[P,i.pageSize]])]),t("div",G,[J,_(t("select",{"onUpdate:modelValue":e[2]||(e[2]=n=>i.sort=n),onChange:e[3]||(e[3]=(...n)=>o.updateSort&&o.updateSort(...n))},Q,544),[[P,i.sort]])])])]),t("div",R,[(l(!0),d(b,null,p(s.posts,n=>(l(),d("div",{class:"col",key:n.id,style:{"margin-bottom":"20px"}},[t("div",W,[X,t("div",Y,[t("p",Z,c(o.formatDate(n.published_at)),1),t("h5",tt,c(n.title),1)])])]))),128))]),m(r,{currentPage:s.currentPage,totalPages:o.totalPages,onPageChanged:o.handlePageChange},null,8,["currentPage","totalPages","onPageChanged"])])}const st=h(T,[["render",et]]),ot={components:{Banner:f,PostList:st},data(){return{bannerImageUrl:v}}};function at(s,e,a,g,i,o){const r=u("Banner"),n=u("PostList");return l(),d("div",null,[m(r,{imageUrl:i.bannerImageUrl,title:"Ideas"},null,8,["imageUrl"]),m(n)])}const it=h(ot,[["render",at]]);export{it as default};
